(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[109],{9969:function(e,s,a){Promise.resolve().then(a.bind(a,4406))},4406:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return r}});var t=a(2073),l=a(1375),n=a(1989),i=a(6029),c=a(9887);function r(){var e;let[s,a]=(0,l.useState)(""),[r,d]=(0,l.useState)(""),[o,m]=(0,l.useState)(null),{data:x,isLoading:h,error:u}=(0,c.QA)({search:s||void 0,status:r||void 0,page_size:50}),g=(0,c.an)(),f=(0,c.Di)(),p=(null==x?void 0:null===(e=x.data)||void 0===e?void 0:e.submissions)||[],b=async e=>{try{await g.mutateAsync(e)}catch(e){console.error("Failed to mark as read:",e)}},j=async e=>{if(confirm("Are you sure you want to delete this submission?"))try{await f.mutateAsync(e)}catch(e){console.error("Failed to delete submission:",e)}},y=e=>{let s={[c.PH.NEW]:{color:"bg-blue-100 text-blue-800",label:"New"},[c.PH.READ]:{color:"bg-gray-100 text-gray-800",label:"Read"},[c.PH.REPLIED]:{color:"bg-green-100 text-green-800",label:"Replied"},[c.PH.SPAM]:{color:"bg-red-100 text-red-800",label:"Spam"},[c.PH.UNSPECIFIED]:{color:"bg-gray-100 text-gray-800",label:"Unknown"}},a=s[e]||s[c.PH.UNSPECIFIED];return(0,t.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(a.color),children:a.label})},N=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return u?(0,t.jsx)(n.l,{children:(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"text-red-600 mb-4",children:"Failed to load contact submissions"}),(0,t.jsx)(i.zx,{onClick:()=>window.location.reload(),children:"Try Again"})]})}):(0,t.jsx)(n.l,{children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Contact Submissions"}),(0,t.jsx)("p",{className:"mt-2 text-sm text-gray-700",children:"Manage and respond to contact form submissions"})]}),(0,t.jsx)(i.Zb,{className:"p-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700",children:"Search"}),(0,t.jsx)(i.II,{id:"search",type:"text",placeholder:"Search by name, email, or message...",value:s,onChange:e=>a(e.target.value),className:"mt-1"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700",children:"Status"}),(0,t.jsxs)("select",{id:"status",value:r,onChange:e=>d(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary sm:text-sm",children:[(0,t.jsx)("option",{value:"",children:"All Statuses"}),(0,t.jsx)("option",{value:c.PH.NEW,children:"New"}),(0,t.jsx)("option",{value:c.PH.READ,children:"Read"}),(0,t.jsx)("option",{value:c.PH.REPLIED,children:"Replied"}),(0,t.jsx)("option",{value:c.PH.SPAM,children:"Spam"})]})]})]})}),h?(0,t.jsx)("div",{className:"text-center py-12",children:(0,t.jsx)("div",{className:"text-gray-500",children:"Loading submissions..."})}):0===p.length?(0,t.jsxs)(i.Zb,{className:"p-12 text-center",children:[(0,t.jsx)("div",{className:"text-gray-500 mb-4",children:"No contact submissions found"}),(s||r)&&(0,t.jsx)(i.zx,{onClick:()=>{a(""),d("")},children:"Clear Filters"})]}):(0,t.jsx)("div",{className:"space-y-4",children:p.map(e=>(0,t.jsx)(i.Zb,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:e.name}),y(e.status)]}),(0,t.jsxs)("div",{className:"text-sm text-gray-600 mb-2",children:[(0,t.jsx)("span",{className:"font-medium",children:"Email:"})," ",e.email,e.company&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"mx-2",children:"•"}),(0,t.jsx)("span",{className:"font-medium",children:"Company:"})," ",e.company]})]}),(0,t.jsxs)("div",{className:"text-sm text-gray-500 mb-4",children:["Submitted on ",N(e.created_at)]}),(0,t.jsx)("div",{className:"bg-gray-50 rounded-md p-4",children:(0,t.jsx)("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:e.message})})]}),(0,t.jsxs)("div",{className:"ml-6 flex flex-col space-y-2",children:[e.status===c.PH.NEW&&(0,t.jsx)(i.zx,{size:"sm",onClick:()=>b(e.id),disabled:g.isPending,children:"Mark as Read"}),(0,t.jsx)(i.zx,{size:"sm",variant:"outline",onClick:()=>{let s="Hi ".concat(e.name,",\n\nThank you for contacting us.\n\nBest regards,\nSaaS Platform Team");window.open("mailto:".concat(e.email,"?subject=").concat(encodeURIComponent("Re: Contact Form Submission"),"&body=").concat(encodeURIComponent(s)))},children:"Reply"}),(0,t.jsx)(i.zx,{size:"sm",variant:"outline",onClick:()=>j(e.id),disabled:f.isPending,className:"text-red-600 hover:text-red-700",children:"Delete"})]})]})},e.id))})]})})}},1989:function(e,s,a){"use strict";a.d(s,{l:function(){return r}});var t=a(2073),l=a(1375),n=a(7274),i=a(8934);let c=[{name:"Dashboard",href:"/admin",icon:"\uD83D\uDCCA"},{name:"Contact Submissions",href:"/admin/contact",icon:"\uD83D\uDCE7"},{name:"Pages",href:"/admin/pages",icon:"\uD83D\uDCC4"},{name:"Blog Posts",href:"/admin/blog",icon:"\uD83D\uDCDD"},{name:"Media",href:"/admin/media",icon:"\uD83D\uDDBC️"}];function r(e){let{children:s}=e,[a,r]=(0,l.useState)(!1),d=(0,i.usePathname)();return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsxs)("div",{className:"fixed inset-0 z-40 lg:hidden ".concat(a?"block":"hidden"),children:[(0,t.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>r(!1)}),(0,t.jsxs)("div",{className:"relative flex w-full max-w-xs flex-1 flex-col bg-white",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:(0,t.jsxs)("button",{type:"button",className:"ml-1 flex h-10 w-10 items-center justify-center rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",onClick:()=>r(!1),children:[(0,t.jsx)("span",{className:"sr-only",children:"Close sidebar"}),(0,t.jsx)("span",{className:"text-white",children:"✕"})]})}),(0,t.jsxs)("div",{className:"h-0 flex-1 overflow-y-auto pt-5 pb-4",children:[(0,t.jsx)("div",{className:"flex flex-shrink-0 items-center px-4",children:(0,t.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"Admin Panel"})}),(0,t.jsx)("nav",{className:"mt-5 space-y-1 px-2",children:c.map(e=>(0,t.jsxs)(n.default,{href:e.href,className:"group flex items-center px-2 py-2 text-base font-medium rounded-md ".concat(d===e.href?"bg-gray-100 text-gray-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"),children:[(0,t.jsx)("span",{className:"mr-3 text-lg",children:e.icon}),e.name]},e.name))})]})]})]}),(0,t.jsx)("div",{className:"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-64 lg:flex-col",children:(0,t.jsx)("div",{className:"flex min-h-0 flex-1 flex-col bg-white border-r border-gray-200",children:(0,t.jsxs)("div",{className:"flex flex-1 flex-col overflow-y-auto pt-5 pb-4",children:[(0,t.jsx)("div",{className:"flex flex-shrink-0 items-center px-4",children:(0,t.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"Admin Panel"})}),(0,t.jsx)("nav",{className:"mt-5 flex-1 space-y-1 px-2",children:c.map(e=>(0,t.jsxs)(n.default,{href:e.href,className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md ".concat(d===e.href?"bg-gray-100 text-gray-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"),children:[(0,t.jsx)("span",{className:"mr-3 text-lg",children:e.icon}),e.name]},e.name))})]})})}),(0,t.jsxs)("div",{className:"lg:pl-64",children:[(0,t.jsx)("div",{className:"sticky top-0 z-10 bg-white shadow-sm border-b border-gray-200",children:(0,t.jsxs)("div",{className:"flex h-16 items-center justify-between px-4 sm:px-6 lg:px-8",children:[(0,t.jsxs)("button",{type:"button",className:"lg:hidden",onClick:()=>r(!0),children:[(0,t.jsx)("span",{className:"sr-only",children:"Open sidebar"}),(0,t.jsx)("span",{className:"text-gray-500",children:"☰"})]}),(0,t.jsx)("div",{className:"flex items-center space-x-4",children:(0,t.jsx)(n.default,{href:"/",className:"text-sm text-gray-500 hover:text-gray-700",children:"← Back to Website"})})]})}),(0,t.jsx)("main",{className:"py-6",children:(0,t.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:s})})]})]})}},7274:function(e,s,a){"use strict";a.d(s,{default:function(){return l.a}});var t=a(6279),l=a.n(t)}},function(e){e.O(0,[697,656,279,570,443,29,887,763,977,744],function(){return e(e.s=9969)}),_N_E=e.O()}]);