(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{1276:(e,t,r)=>{Promise.resolve().then(r.bind(r,9882))},9882:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var s=r(2455),a=r(1439),l=r(3580),i=r(8443),n=r(7039),d=r(8174);let c=(0,n.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),u=a.forwardRef((e,t)=>{let{className:r,variant:a,...l}=e;return(0,s.jsx)("div",{ref:t,role:"alert",className:(0,d.cn)(c({variant:a}),r),...l})});u.displayName="Alert",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("h5",{ref:t,className:(0,d.cn)("mb-1 font-medium leading-none tracking-tight",r),...a})}).displayName="AlertTitle",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,d.cn)("text-sm [&_p]:leading-relaxed",r),...a})}).displayName="AlertDescription";var o=r(5949),m=r(7855),v=r(6115),x=r(6658);function p(){let[e,t]=(0,a.useState)(""),[r,n]=(0,a.useState)(""),[d,c]=(0,a.useState)(""),[p,g]=(0,a.useState)(!1),f=(0,i.useRouter)(),h=async t=>{t.preventDefault(),c(""),g(!0);try{let t=await (0,l.signIn)("credentials",{email:e,password:r,redirect:!1});if(null==t?void 0:t.error)c("Invalid email or password");else{var s;let e=await (0,l.getSession)();if((null==e||null==(s=e.user)?void 0:s.role)!=="admin")return void c("Access denied. Admin privileges required.");f.push("/dashboard")}}catch(e){c("An error occurred during login")}finally{g(!1)}};return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"CMS Dashboard"}),(0,s.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Sign in to access the content management system"})]}),(0,s.jsx)(m.Zp,{className:"p-8",children:(0,s.jsxs)("form",{className:"space-y-6",onSubmit:h,children:[d&&(0,s.jsx)(u,{variant:"destructive",children:d}),(0,s.jsxs)("div",{children:[(0,s.jsx)(x.J,{htmlFor:"email",children:"Email address"}),(0,s.jsx)(v.p,{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:e=>t(e.target.value),className:"mt-1"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(x.J,{htmlFor:"password",children:"Password"}),(0,s.jsx)(v.p,{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:r,onChange:e=>n(e.target.value),className:"mt-1"})]}),(0,s.jsx)("div",{children:(0,s.jsx)(o.$,{type:"submit",className:"w-full",disabled:p,children:p?"Signing in...":"Sign in"})})]})})]})})}}},e=>{e.O(0,[96,76,504,358],()=>e(e.s=1276)),_N_E=e.O()}]);