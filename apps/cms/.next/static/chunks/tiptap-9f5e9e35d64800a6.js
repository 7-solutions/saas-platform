"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[753],{195:(t,e,s)=>{s.d(e,{Q1:()=>r,xJ:()=>o});var n=s(4793),o=n.CU.create({name:"textStyle",priority:101,addOptions:()=>({HTMLAttributes:{},mergeNestedSpanStyles:!0}),parseHTML(){return[{tag:"span",consuming:!1,getAttrs:t=>!!t.hasAttribute("style")&&(this.options.mergeNestedSpanStyles&&(t=>{if(!t.children.length)return;let e=t.querySelectorAll("span");e&&e.forEach(t=>{var e,s;let n=t.getAttribute("style"),o=null==(s=null==(e=t.parentElement)?void 0:e.closest("span"))?void 0:s.getAttribute("style");t.setAttribute("style",`${o};${n}`)})})(t),{})}]},renderHTML({HTMLAttributes:t}){return["span",(0,n.KV)(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleTextStyle:t=>({commands:e})=>e.toggleMark(this.name,t),removeEmptyTextStyle:()=>({tr:t})=>{let{selection:e}=t;return t.doc.nodesBetween(e.from,e.to,(e,s)=>{if(e.isTextblock)return!0;e.marks.filter(t=>t.type===this.type).some(t=>Object.values(t.attrs).some(t=>!!t))||t.removeMark(s,s+e.nodeSize,this.type)}),!0}}}}),i=n.YY.create({name:"backgroundColor",addOptions:()=>({types:["textStyle"]}),addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:t=>{var e;return null==(e=t.style.backgroundColor)?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.backgroundColor?{style:`background-color: ${t.backgroundColor}`}:{}}}}]},addCommands:()=>({setBackgroundColor:t=>({chain:e})=>e().setMark("textStyle",{backgroundColor:t}).run(),unsetBackgroundColor:()=>({chain:t})=>t().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()})}),r=n.YY.create({name:"color",addOptions:()=>({types:["textStyle"]}),addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var e;return null==(e=t.style.color)?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands:()=>({setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()})}),a=n.YY.create({name:"fontFamily",addOptions:()=>({types:["textStyle"]}),addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:t=>t.style.fontFamily,renderHTML:t=>t.fontFamily?{style:`font-family: ${t.fontFamily}`}:{}}}}]},addCommands:()=>({setFontFamily:t=>({chain:e})=>e().setMark("textStyle",{fontFamily:t}).run(),unsetFontFamily:()=>({chain:t})=>t().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()})}),l=n.YY.create({name:"fontSize",addOptions:()=>({types:["textStyle"]}),addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:t=>t.style.fontSize,renderHTML:t=>t.fontSize?{style:`font-size: ${t.fontSize}`}:{}}}}]},addCommands:()=>({setFontSize:t=>({chain:e})=>e().setMark("textStyle",{fontSize:t}).run(),unsetFontSize:()=>({chain:t})=>t().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()})}),d=n.YY.create({name:"lineHeight",addOptions:()=>({types:["textStyle"]}),addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:t=>t.style.lineHeight,renderHTML:t=>t.lineHeight?{style:`line-height: ${t.lineHeight}`}:{}}}}]},addCommands:()=>({setLineHeight:t=>({chain:e})=>e().setMark("textStyle",{lineHeight:t}).run(),unsetLineHeight:()=>({chain:t})=>t().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()})});n.YY.create({name:"textStyleKit",addExtensions(){let t=[];return!1!==this.options.backgroundColor&&t.push(i.configure(this.options.backgroundColor)),!1!==this.options.color&&t.push(r.configure(this.options.color)),!1!==this.options.fontFamily&&t.push(a.configure(this.options.fontFamily)),!1!==this.options.fontSize&&t.push(l.configure(this.options.fontSize)),!1!==this.options.lineHeight&&t.push(d.configure(this.options.lineHeight)),!1!==this.options.textStyle&&t.push(o.configure(this.options.textStyle)),t}})},254:(t,e,s)=>{s.d(e,{Ay:()=>h,N_:()=>p});var n=s(4793),o=s(1970),i=s(4864),r="[\0- \xa0 ᠎ -\u2029 　]",a=new RegExp(r),l=RegExp(`${r}$`),d=RegExp(r,"g");function u(t,e){let s=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(t=>{let e="string"==typeof t?t:t.scheme;e&&s.push(e)}),!t||t.replace(d,"").match(RegExp(`^(?:(?:${s.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var p=n.CU.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if("string"==typeof t)return void(0,o.ZV)(t);(0,o.ZV)(t.scheme,t.optionalSlashes)})},onDestroy(){(0,o.cL)()},inclusive(){return this.options.autolink},addOptions:()=>({openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!u(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}),addAttributes(){return{href:{default:null,parseHTML:t=>t.getAttribute("href")},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{let e=t.getAttribute("href");return!!e&&!!this.options.isAllowedUri(e,{defaultValidate:t=>!!u(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})&&null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:t=>!!u(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",(0,n.KV)(this.options.HTMLAttributes,t),0]:["a",(0,n.KV)(this.options.HTMLAttributes,{...t,href:""}),0]},addCommands(){return{setLink:t=>({chain:e})=>{let{href:s}=t;return!!this.options.isAllowedUri(s,{defaultValidate:t=>!!u(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})&&e().setMark(this.name,t).setMeta("preventAutolink",!0).run()},toggleLink:t=>({chain:e})=>{let{href:s}=t||{};return(!s||!!this.options.isAllowedUri(s,{defaultValidate:t=>!!u(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol}))&&e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[(0,n.Zc)({find:t=>{let e=[];if(t){let{protocols:s,defaultProtocol:n}=this.options,i=(0,o.I6)(t).filter(t=>t.isLink&&this.options.isAllowedUri(t.value,{defaultValidate:t=>!!u(t,s),protocols:s,defaultProtocol:n}));i.length&&i.forEach(t=>e.push({text:t.value,data:{href:t.href},index:t.start}))}return e},type:this.type,getAttributes:t=>{var e;return{href:null==(e=t.data)?void 0:e.href}}})]},addProseMirrorPlugins(){var t,e,s;let r=[],{protocols:d,defaultProtocol:p}=this.options;return this.options.autolink&&r.push((t={type:this.type,defaultProtocol:this.options.defaultProtocol,validate:t=>this.options.isAllowedUri(t,{defaultValidate:t=>!!u(t,d),protocols:d,defaultProtocol:p}),shouldAutoLink:this.options.shouldAutoLink},new i.k_({key:new i.hs("autolink"),appendTransaction:(e,s,i)=>{let r=e.some(t=>t.docChanged)&&!s.doc.eq(i.doc),d=e.some(t=>t.getMeta("preventAutolink"));if(!r||d)return;let{tr:u}=i,p=(0,n.T7)(s.doc,[...e]);if((0,n.FF)(p).forEach(({newRange:e})=>{let s,r,d=(0,n.Nx)(i.doc,e,t=>t.isTextblock);if(d.length>1)s=d[0],r=i.doc.textBetween(s.pos,s.pos+s.node.nodeSize,void 0," ");else if(d.length){let t=i.doc.textBetween(e.from,e.to," "," ");if(!l.test(t))return;s=d[0],r=i.doc.textBetween(s.pos,e.to,void 0," ")}if(s&&r){let e=r.split(a).filter(Boolean);if(e.length<=0)return!1;let l=e[e.length-1],d=s.pos+r.lastIndexOf(l);if(!l)return!1;let p=(0,o.qw)(l).map(e=>e.toObject(t.defaultProtocol));if(!(1===p.length?p[0].isLink:3===p.length&&!!p[1].isLink&&["()","[]"].includes(p[0].value+p[2].value)))return!1;p.filter(t=>t.isLink).map(t=>({...t,from:d+t.start+1,to:d+t.end+1})).filter(t=>!i.schema.marks.code||!i.doc.rangeHasMark(t.from,t.to,i.schema.marks.code)).filter(e=>t.validate(e.value)).filter(e=>t.shouldAutoLink(e.value)).forEach(e=>{(0,n.hO)(e.from,e.to,i.doc).some(e=>e.mark.type===t.type)||u.addMark(e.from,e.to,t.type.create({href:e.href}))})}}),u.steps.length)return u}}))),!0===this.options.openOnClick&&r.push((e={type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection},new i.k_({key:new i.hs("handleClickLink"),props:{handleClick:(t,s,o)=>{var i,r;if(0!==o.button||!t.editable)return!1;let a=null;if(o.target instanceof HTMLAnchorElement)a=o.target;else{let t=o.target,e=[];for(;"DIV"!==t.nodeName;)e.push(t),t=t.parentNode;a=e.find(t=>"A"===t.nodeName)}if(!a)return!1;let l=(0,n.gu)(t.state,e.type.name),d=null!=(i=null==a?void 0:a.href)?i:l.href,u=null!=(r=null==a?void 0:a.target)?r:l.target;return e.enableClickSelection&&e.editor.commands.extendMarkRange(e.type.name),!!a&&!!d&&(window.open(d,u),!0)}}}))),this.options.linkOnPaste&&r.push((s={editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type},new i.k_({key:new i.hs("handlePasteLink"),props:{handlePaste:(t,e,n)=>{let{state:i}=t,{selection:r}=i,{empty:a}=r;if(a)return!1;let l="";n.content.forEach(t=>{l+=t.textContent});let d=(0,o.I6)(l,{defaultProtocol:s.defaultProtocol}).find(t=>t.isLink&&t.value===l);return!!l&&!!d&&s.editor.commands.setMark(s.type,{href:d.href})}}}))),r}}),h=p},827:(t,e,s)=>{s.d(e,{A:()=>to});var n=s(4793),o=(t,e)=>{if("slot"===t)return 0;if(t instanceof Function)return t(e);let{children:s,...n}=null!=e?e:{};if("svg"===t)throw Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,n,s]},i=/^\s*>\s$/,r=n.bP.create({name:"blockquote",addOptions:()=>({HTMLAttributes:{}}),content:"block+",group:"block",defining:!0,parseHTML:()=>[{tag:"blockquote"}],renderHTML({HTMLAttributes:t}){return o("blockquote",{...(0,n.KV)(this.options.HTMLAttributes,t),children:o("slot",{})})},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[(0,n.tG)({find:i,type:this.type})]}}),a=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,l=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,d=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,u=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,p=n.CU.create({name:"bold",addOptions:()=>({HTMLAttributes:{}}),parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>"normal"!==t.style.fontWeight&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return o("strong",{...(0,n.KV)(this.options.HTMLAttributes,t),children:o("slot",{})})},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[(0,n.OX)({find:a,type:this.type}),(0,n.OX)({find:d,type:this.type})]},addPasteRules(){return[(0,n.Zc)({find:l,type:this.type}),(0,n.Zc)({find:u,type:this.type})]}}),h=/(^|[^`])`([^`]+)`(?!`)/,c=/(^|[^`])`([^`]+)`(?!`)/g,m=n.CU.create({name:"code",addOptions:()=>({HTMLAttributes:{}}),excludes:"_",code:!0,exitable:!0,parseHTML:()=>[{tag:"code"}],renderHTML({HTMLAttributes:t}){return["code",(0,n.KV)(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[(0,n.OX)({find:h,type:this.type})]},addPasteRules(){return[(0,n.Zc)({find:c,type:this.type})]}}),g=s(4864),f=/^```([a-z]+)?[\s\n]$/,y=/^~~~([a-z]+)?[\s\n]$/,b=n.bP.create({name:"codeBlock",addOptions:()=>({languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}),content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;let{languageClassPrefix:s}=this.options,n=[...(null==(e=t.firstElementChild)?void 0:e.classList)||[]].filter(t=>t.startsWith(s)).map(t=>t.replace(s,""))[0];return n||null},rendered:!1}}},parseHTML:()=>[{tag:"pre",preserveWhitespace:"full"}],renderHTML({node:t,HTMLAttributes:e}){return["pre",(0,n.KV)(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{let{empty:t,$anchor:e}=this.editor.state.selection,s=1===e.pos;return!!t&&e.parent.type.name===this.name&&(!!s||!e.parent.textContent.length)&&this.editor.commands.clearNodes()},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;let{state:e}=t,{selection:s}=e,{$from:n,empty:o}=s;if(!o||n.parent.type!==this.type)return!1;let i=n.parentOffset===n.parent.nodeSize-2,r=n.parent.textContent.endsWith("\n\n");return!!i&&!!r&&t.chain().command(({tr:t})=>(t.delete(n.pos-2,n.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;let{state:e}=t,{selection:s,doc:n}=e,{$from:o,empty:i}=s;if(!i||o.parent.type!==this.type||o.parentOffset!==o.parent.nodeSize-2)return!1;let r=o.after();return void 0!==r&&(n.nodeAt(r)?t.commands.command(({tr:t})=>(t.setSelection(g.LN.near(n.resolve(r))),!0)):t.commands.exitCode())}}},addInputRules(){return[(0,n.JJ)({find:f,type:this.type,getAttributes:t=>({language:t[1]})}),(0,n.JJ)({find:y,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new g.k_({key:new g.hs("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;let s=e.clipboardData.getData("text/plain"),n=e.clipboardData.getData("vscode-editor-data"),o=n?JSON.parse(n):void 0,i=null==o?void 0:o.mode;if(!s||!i)return!1;let{tr:r,schema:a}=t.state,l=a.text(s.replace(/\r\n?/g,"\n"));return r.replaceSelectionWith(this.type.create({language:i},l)),r.selection.$from.parent.type!==this.type&&r.setSelection(g.U3.near(r.doc.resolve(Math.max(0,r.selection.from-2)))),r.setMeta("paste",!0),t.dispatch(r),!0}}})]}}),k=n.bP.create({name:"doc",topNode:!0,content:"block+"}),M=n.bP.create({name:"hardBreak",addOptions:()=>({keepMarks:!0,HTMLAttributes:{}}),inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML:()=>[{tag:"br"}],renderHTML({HTMLAttributes:t}){return["br",(0,n.KV)(this.options.HTMLAttributes,t)]},renderText:()=>"\n",addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:s,editor:n})=>t.first([()=>t.exitCode(),()=>t.command(()=>{let{selection:t,storedMarks:o}=s;if(t.$from.parent.type.spec.isolating)return!1;let{keepMarks:i}=this.options,{splittableMarks:r}=n.extensionManager,a=o||t.$to.parentOffset&&t.$from.marks();return e().insertContent({type:this.name}).command(({tr:t,dispatch:e})=>{if(e&&a&&i){let e=a.filter(t=>r.includes(t.type.name));t.ensureMarks(e)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),v=n.bP.create({name:"heading",addOptions:()=>({levels:[1,2,3,4,5,6],HTMLAttributes:{}}),content:"inline*",group:"block",defining:!0,addAttributes:()=>({level:{default:1,rendered:!1}}),parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){let s=this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0];return[`h${s}`,(0,n.KV)(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>!!this.options.levels.includes(t.level)&&e.setNode(this.name,t),toggleHeading:t=>({commands:e})=>!!this.options.levels.includes(t.level)&&e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,...{[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}}),{})},addInputRules(){return this.options.levels.map(t=>(0,n.JJ)({find:RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),A=n.bP.create({name:"horizontalRule",addOptions:()=>({HTMLAttributes:{}}),group:"block",parseHTML:()=>[{tag:"hr"}],renderHTML({HTMLAttributes:t}){return["hr",(0,n.KV)(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!(0,n.AB)(e,e.schema.nodes[this.name]))return!1;let{selection:s}=e,{$to:o}=s,i=t();return(0,n.BQ)(s)?i.insertContentAt(o.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({tr:t,dispatch:e})=>{var s;if(e){let{$to:e}=t.selection,n=e.end();if(e.nodeAfter)e.nodeAfter.isTextblock?t.setSelection(g.U3.create(t.doc,e.pos+1)):e.nodeAfter.isBlock?t.setSelection(g.nh.create(t.doc,e.pos)):t.setSelection(g.U3.create(t.doc,e.pos));else{let o=null==(s=e.parent.type.contentMatch.defaultType)?void 0:s.create();o&&(t.insert(n,o),t.setSelection(g.U3.create(t.doc,n+1)))}t.scrollIntoView()}return!0}).run()}}},addInputRules(){return[(0,n.jT)({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),L=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,T=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,S=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,C=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,x=n.CU.create({name:"italic",addOptions:()=>({HTMLAttributes:{}}),parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>"normal"!==t.style.fontStyle&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",(0,n.KV)(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[(0,n.OX)({find:L,type:this.type}),(0,n.OX)({find:S,type:this.type})]},addPasteRules(){return[(0,n.Zc)({find:T,type:this.type}),(0,n.Zc)({find:C,type:this.type})]}}),H=s(254),w=Object.defineProperty,E="textStyle",O=/^\s*([-+*])\s$/,P=n.bP.create({name:"bulletList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML:()=>[{tag:"ul"}],renderHTML({HTMLAttributes:t}){return["ul",(0,n.KV)(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes("listItem",this.editor.getAttributes(E)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=(0,n.tG)({find:O,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=(0,n.tG)({find:O,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(E),editor:this.editor})),[t]}}),I=n.bP.create({name:"listItem",addOptions:()=>({HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}),content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML({HTMLAttributes:t}){return["li",(0,n.KV)(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}});((t,e)=>{for(var s in e)w(t,s,{get:e[s],enumerable:!0})})({},{findListItemPos:()=>N,getNextListDepth:()=>R,handleBackspace:()=>D,handleDelete:()=>V,hasListBefore:()=>B,hasListItemAfter:()=>U,hasListItemBefore:()=>z,listItemHasSubList:()=>$,nextListIsDeeper:()=>K,nextListIsHigher:()=>_});var N=(t,e)=>{let{$from:s}=e.selection,o=(0,n.Pg)(t,e.schema),i=s.depth,r=s.pos,a=null;for(;i>0&&null===a;)s.node(i).type===o?a=i:(i-=1,r-=1);return null===a?null:{$pos:e.doc.resolve(r),depth:a}},R=(t,e)=>{let s=N(t,e);if(!s)return!1;let[,o]=(0,n.fl)(e,t,s.$pos.pos+4);return o},B=(t,e,s)=>{let{$anchor:n}=t.selection,o=Math.max(0,n.pos-2),i=t.doc.resolve(o).node();return!!i&&!!s.includes(i.type.name)},z=(t,e)=>{var s;let{$anchor:n}=e.selection,o=e.doc.resolve(n.pos-2);return 0!==o.index()&&(null==(s=o.nodeBefore)?void 0:s.type.name)===t},$=(t,e,s)=>{if(!s)return!1;let o=(0,n.Pg)(t,e.schema),i=!1;return s.descendants(t=>{t.type===o&&(i=!0)}),i},D=(t,e,s)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!(0,n.rU)(t.state,e)&&B(t.state,e,s)){let{$anchor:s}=t.state.selection,n=t.state.doc.resolve(s.before()-1),o=[];n.node().descendants((t,s)=>{t.type.name===e&&o.push({node:t,pos:s})});let i=o.at(-1);if(!i)return!1;let r=t.state.doc.resolve(n.start()+i.pos+1);return t.chain().cut({from:s.start()-1,to:s.end()+1},r.end()).joinForward().run()}if(!(0,n.rU)(t.state,e)||!(0,n.J_)(t.state))return!1;let o=N(e,t.state);if(!o)return!1;let i=t.state.doc.resolve(o.$pos.pos-2).node(o.depth),r=$(e,t.state,i);return z(e,t.state)&&!r?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},K=(t,e)=>{let s=R(t,e),n=N(t,e);return!!n&&!!s&&s>n.depth},_=(t,e)=>{let s=R(t,e),n=N(t,e);return!!n&&!!s&&s<n.depth},V=(t,e)=>{if(!(0,n.rU)(t.state,e)||!(0,n.QN)(t.state,e))return!1;let{selection:s}=t.state,{$from:o,$to:i}=s;return!(!s.empty&&o.sameParent(i))&&(K(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():_(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward())},U=(t,e)=>{var s;let{$anchor:n}=e.selection,o=e.doc.resolve(n.pos-n.parentOffset-2);return o.index()!==o.parent.childCount-1&&(null==(s=o.nodeAfter)?void 0:s.type.name)===t},Y=n.YY.create({name:"listKeymap",addOptions:()=>({listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}),addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:s})=>{void 0!==t.state.schema.nodes[s]&&V(t,s)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:s})=>{void 0!==t.state.schema.nodes[s]&&V(t,s)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:s,wrapperNames:n})=>{void 0!==t.state.schema.nodes[s]&&D(t,s,n)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:s,wrapperNames:n})=>{void 0!==t.state.schema.nodes[s]&&D(t,s,n)&&(e=!0)}),e}}}}),F="textStyle",j=/^(\d+)\.\s$/,G=n.bP.create({name:"orderedList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes:()=>({start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}),parseHTML:()=>[{tag:"ol"}],renderHTML({HTMLAttributes:t}){let{start:e,...s}=t;return 1===e?["ol",(0,n.KV)(this.options.HTMLAttributes,s),0]:["ol",(0,n.KV)(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes("listItem",this.editor.getAttributes(F)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=(0,n.tG)({find:j,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,e)=>e.childCount+e.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=(0,n.tG)({find:j,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(F)}),joinPredicate:(t,e)=>e.childCount+e.attrs.start===+t[1],editor:this.editor})),[t]}}),Z=/^\s*(\[([( |x])?\])\s$/,q=n.bP.create({name:"taskItem",addOptions:()=>({nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}),content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes:()=>({checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{let e=t.getAttribute("data-checked");return""===e||"true"===e},renderHTML:t=>({"data-checked":t.checked})}}),parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",(0,n.KV)(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){let t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:s,editor:n})=>{let o=document.createElement("li"),i=document.createElement("label"),r=document.createElement("span"),a=document.createElement("input"),l=document.createElement("div"),d=()=>{var e,s;a.ariaLabel=(null==(s=null==(e=this.options.a11y)?void 0:e.checkboxLabel)?void 0:s.call(e,t,a.checked))||`Task item checkbox for ${t.textContent||"empty task item"}`};return d(),i.contentEditable="false",a.type="checkbox",a.addEventListener("mousedown",t=>t.preventDefault()),a.addEventListener("change",e=>{if(!n.isEditable&&!this.options.onReadOnlyChecked){a.checked=!a.checked;return}let{checked:o}=e.target;n.isEditable&&"function"==typeof s&&n.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:t})=>{let e=s();if("number"!=typeof e)return!1;let n=t.doc.nodeAt(e);return t.setNodeMarkup(e,void 0,{...null==n?void 0:n.attrs,checked:o}),!0}).run(),n.isEditable||!this.options.onReadOnlyChecked||this.options.onReadOnlyChecked(t,o)||(a.checked=!a.checked)}),Object.entries(this.options.HTMLAttributes).forEach(([t,e])=>{o.setAttribute(t,e)}),o.dataset.checked=t.attrs.checked,a.checked=t.attrs.checked,i.append(a,r),o.append(i,l),Object.entries(e).forEach(([t,e])=>{o.setAttribute(t,e)}),{dom:o,contentDOM:l,update:t=>t.type===this.type&&(o.dataset.checked=t.attrs.checked,a.checked=t.attrs.checked,d(),!0)}}},addInputRules(){return[(0,n.tG)({find:Z,type:this.type,getAttributes:t=>({checked:"x"===t[t.length-1]})})]}}),J=n.bP.create({name:"taskList",addOptions:()=>({itemTypeName:"taskItem",HTMLAttributes:{}}),group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",(0,n.KV)(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});n.YY.create({name:"listKit",addExtensions(){let t=[];return!1!==this.options.bulletList&&t.push(P.configure(this.options.bulletList)),!1!==this.options.listItem&&t.push(I.configure(this.options.listItem)),!1!==this.options.listKeymap&&t.push(Y.configure(this.options.listKeymap)),!1!==this.options.orderedList&&t.push(G.configure(this.options.orderedList)),!1!==this.options.taskItem&&t.push(q.configure(this.options.taskItem)),!1!==this.options.taskList&&t.push(J.configure(this.options.taskList)),t}});var W=n.bP.create({name:"paragraph",priority:1e3,addOptions:()=>({HTMLAttributes:{}}),group:"block",content:"inline*",parseHTML:()=>[{tag:"p"}],renderHTML({HTMLAttributes:t}){return["p",(0,n.KV)(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),X=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,Q=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,tt=n.CU.create({name:"strike",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>!!t.includes("line-through")&&{}}],renderHTML({HTMLAttributes:t}){return["s",(0,n.KV)(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[(0,n.OX)({find:X,type:this.type})]},addPasteRules(){return[(0,n.Zc)({find:Q,type:this.type})]}}),te=n.bP.create({name:"text",group:"inline"}),ts=s(9409),tn=s(8906),to=n.YY.create({name:"starterKit",addExtensions(){var t,e,s,n;let o=[];return!1!==this.options.bold&&o.push(p.configure(this.options.bold)),!1!==this.options.blockquote&&o.push(r.configure(this.options.blockquote)),!1!==this.options.bulletList&&o.push(P.configure(this.options.bulletList)),!1!==this.options.code&&o.push(m.configure(this.options.code)),!1!==this.options.codeBlock&&o.push(b.configure(this.options.codeBlock)),!1!==this.options.document&&o.push(k.configure(this.options.document)),!1!==this.options.dropcursor&&o.push(tn.QO.configure(this.options.dropcursor)),!1!==this.options.gapcursor&&o.push(tn.vR.configure(this.options.gapcursor)),!1!==this.options.hardBreak&&o.push(M.configure(this.options.hardBreak)),!1!==this.options.heading&&o.push(v.configure(this.options.heading)),!1!==this.options.undoRedo&&o.push(tn.lb.configure(this.options.undoRedo)),!1!==this.options.horizontalRule&&o.push(A.configure(this.options.horizontalRule)),!1!==this.options.italic&&o.push(x.configure(this.options.italic)),!1!==this.options.listItem&&o.push(I.configure(this.options.listItem)),!1!==this.options.listKeymap&&o.push(Y.configure(null==(t=this.options)?void 0:t.listKeymap)),!1!==this.options.link&&o.push(H.N_.configure(null==(e=this.options)?void 0:e.link)),!1!==this.options.orderedList&&o.push(G.configure(this.options.orderedList)),!1!==this.options.paragraph&&o.push(W.configure(this.options.paragraph)),!1!==this.options.strike&&o.push(tt.configure(this.options.strike)),!1!==this.options.text&&o.push(te.configure(this.options.text)),!1!==this.options.underline&&o.push(ts.z.configure(null==(s=this.options)?void 0:s.underline)),!1!==this.options.trailingNode&&o.push(tn.JU.configure(null==(n=this.options)?void 0:n.trailingNode)),o}})},2073:(t,e,s)=>{s.d(e,{Ay:()=>r});var n=s(4793),o=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,i=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,r=n.CU.create({name:"highlight",addOptions:()=>({multicolor:!1,HTMLAttributes:{}}),addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:t=>t.getAttribute("data-color")||t.style.backgroundColor,renderHTML:t=>t.color?{"data-color":t.color,style:`background-color: ${t.color}; color: inherit`}:{}}}:{}},parseHTML:()=>[{tag:"mark"}],renderHTML({HTMLAttributes:t}){return["mark",(0,n.KV)(this.options.HTMLAttributes,t),0]},addCommands(){return{setHighlight:t=>({commands:e})=>e.setMark(this.name,t),toggleHighlight:t=>({commands:e})=>e.toggleMark(this.name,t),unsetHighlight:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[(0,n.OX)({find:o,type:this.type})]},addPasteRules(){return[(0,n.Zc)({find:i,type:this.type})]}})},2107:(t,e,s)=>{s.d(e,{A:()=>n});var n=s(8906).n4},2958:(t,e,s)=>{s.d(e,{$Z:()=>m,hG:()=>M});var n=s(3070),o=s(9627),i=s(6658),r=s(9694),a=s(4793),l=s(50),d=s(3792),u=function(){for(var t=arguments.length,e=Array(t),s=0;s<t;s++)e[s]=arguments[s];return t=>{e.forEach(e=>{"function"==typeof e?e(t):e&&(e.current=t)})}},p=t=>{let{contentComponent:e}=t,s=(0,i.useSyncExternalStore)(e.subscribe,e.getSnapshot,e.getServerSnapshot);return(0,r.jsx)(r.Fragment,{children:Object.values(s)})},h=class extends n.Component{componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){let t=this.props.editor;if(t&&!t.isDestroyed&&t.options.element){if(t.contentComponent)return;let e=this.editorContentRef.current;e.append(...t.options.element.childNodes),t.setOptions({element:e}),t.contentComponent=function(){let t=new Set,e={};return{subscribe:e=>(t.add(e),()=>{t.delete(e)}),getSnapshot:()=>e,getServerSnapshot:()=>e,setRenderer(s,n){e={...e,[s]:o.createPortal(n.reactElement,n.element,s)},t.forEach(t=>t())},removeRenderer(s){let n={...e};delete n[s],e=n,t.forEach(t=>t())}}}(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(t=>t.hasContentComponentInitialized?t:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;let e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!(null==(t=e.options.element)?void 0:t.firstChild)))return;let s=document.createElement("div");s.append(...e.options.element.childNodes),e.setOptions({element:s})}render(){let{editor:t,innerRef:e,...s}=this.props;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{ref:u(e,this.editorContentRef),...s}),(null==t?void 0:t.contentComponent)&&(0,r.jsx)(p,{contentComponent:t.contentComponent})]})}constructor(t){var e;super(t),this.editorContentRef=n.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(null==(e=t.editor)?void 0:e.contentComponent)}}},c=(0,n.forwardRef)((t,e)=>{let s=n.useMemo(()=>Math.floor(0xffffffff*Math.random()).toString(),[t.editor]);return n.createElement(h,{key:s,innerRef:e,...t})}),m=n.memo(c),g="undefined"!=typeof window?n.useLayoutEffect:n.useEffect,f=class{getSnapshot(){return this.transactionNumber===this.lastTransactionNumber||(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber}),this.lastSnapshot}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){let t=()=>{this.transactionNumber+=1,this.subscribers.forEach(t=>t())},e=this.editor;return e.on("transaction",t),()=>{e.off("transaction",t)}}}constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}},y="undefined"==typeof window,b=y||!!("undefined"!=typeof window&&window.next),k=class t{setEditor(t){this.editor=t,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(t=>t())}getInitialEditor(){if(void 0===this.options.current.immediatelyRender)return y||b?null:this.createEditor();return this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null}createEditor(){var t=this;let e={...this.options.current,onBeforeCreate:function(){for(var e,s,n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];return null==(s=(e=t.options.current).onBeforeCreate)?void 0:s.call(e,...o)},onBlur:function(){for(var e,s,n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];return null==(s=(e=t.options.current).onBlur)?void 0:s.call(e,...o)},onCreate:function(){for(var e,s,n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];return null==(s=(e=t.options.current).onCreate)?void 0:s.call(e,...o)},onDestroy:function(){for(var e,s,n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];return null==(s=(e=t.options.current).onDestroy)?void 0:s.call(e,...o)},onFocus:function(){for(var e,s,n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];return null==(s=(e=t.options.current).onFocus)?void 0:s.call(e,...o)},onSelectionUpdate:function(){for(var e,s,n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];return null==(s=(e=t.options.current).onSelectionUpdate)?void 0:s.call(e,...o)},onTransaction:function(){for(var e,s,n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];return null==(s=(e=t.options.current).onTransaction)?void 0:s.call(e,...o)},onUpdate:function(){for(var e,s,n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];return null==(s=(e=t.options.current).onUpdate)?void 0:s.call(e,...o)},onContentError:function(){for(var e,s,n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];return null==(s=(e=t.options.current).onContentError)?void 0:s.call(e,...o)},onDrop:function(){for(var e,s,n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];return null==(s=(e=t.options.current).onDrop)?void 0:s.call(e,...o)},onPaste:function(){for(var e,s,n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];return null==(s=(e=t.options.current).onPaste)?void 0:s.call(e,...o)},onDelete:function(){for(var e,s,n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];return null==(s=(e=t.options.current).onDelete)?void 0:s.call(e,...o)}};return new a.KE(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(t){return this.subscriptions.add(t),()=>{this.subscriptions.delete(t)}}static compareOptions(t,e){return Object.keys(t).every(s=>!!["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(s)||("extensions"===s&&t.extensions&&e.extensions?t.extensions.length===e.extensions.length&&t.extensions.every((t,s)=>{var n;return t===(null==(n=e.extensions)?void 0:n[s])}):t[s]===e[s]))}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&0===e.length?t.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(t){if(this.editor&&!this.editor.isDestroyed){if(null===this.previousDeps){this.previousDeps=t;return}if(this.previousDeps.length===t.length&&this.previousDeps.every((e,s)=>e===t[s]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=t}scheduleDestroy(){let t=this.instanceId,e=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===t){e&&e.setOptions(this.options.current);return}e&&!e.isDestroyed&&(e.destroy(),this.instanceId===t&&this.setEditor(null))},1)}constructor(t){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=t,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}};function M(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=(0,n.useRef)(t);s.current=t;let[o]=(0,n.useState)(()=>new k(s)),r=(0,i.useSyncExternalStore)(o.subscribe,o.getEditor,o.getServerSnapshot);return(0,n.useDebugValue)(r),(0,n.useEffect)(o.onRender(e)),!function(t){var e;let[s]=(0,n.useState)(()=>new f(t.editor)),o=(0,d.useSyncExternalStoreWithSelector)(s.subscribe,s.getSnapshot,s.getServerSnapshot,t.selector,null!=(e=t.equalityFn)?e:l);g(()=>s.watch(t.editor),[t.editor,s]),(0,n.useDebugValue)(o)}({editor:r,selector:e=>{let{transactionNumber:s}=e;return!1===t.shouldRerenderOnTransaction||void 0===t.shouldRerenderOnTransaction?null:t.immediatelyRender&&0===s?0:s+1}}),r}(0,n.createContext)({editor:null}).Consumer,a.Db,a.Yv},4975:(t,e,s)=>{s.d(e,{A:()=>n});var n=s(195).Q1},6023:(t,e,s)=>{s.d(e,{A:()=>n});var n=s(8906).Or},6739:(t,e,s)=>{s.d(e,{A:()=>n});var n=s(4793).YY.create({name:"textAlign",addOptions:()=>({types:[],alignments:["left","center","right","justify"],defaultAlignment:null}),addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{let e=t.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign?{style:`text-align: ${t.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>!!this.options.alignments.includes(t)&&this.options.types.map(s=>e.updateAttributes(s,{textAlign:t})).every(t=>t),unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).every(t=>t),toggleTextAlign:t=>({editor:e,commands:s})=>!!this.options.alignments.includes(t)&&(e.isActive({textAlign:t})?s.unsetTextAlign():s.setTextAlign(t))}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}})},7785:(t,e,s)=>{s.d(e,{Ay:()=>i});var n=s(4793),o=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,i=n.bP.create({name:"image",addOptions:()=>({inline:!1,allowBase64:!1,HTMLAttributes:{}}),inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes:()=>({src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}),parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",(0,n.KV)(this.options.HTMLAttributes,t)]},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[(0,n.jT)({find:o,type:this.type,getAttributes:t=>{let[,,e,s,n]=t;return{src:s,alt:e,title:n}}})]}})},8906:(t,e,s)=>{s.d(e,{JU:()=>m,Or:()=>h,QO:()=>u,lb:()=>g,n4:()=>d,vR:()=>p});var n=s(4793),o=s(4864),i=s(1777),r=s(1664),a=s(1760),l=s(2703),d=n.YY.create({name:"characterCount",addOptions:()=>({limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(t=>""!==t).length}),addStorage:()=>({characters:()=>0,words:()=>0}),onBeforeCreate(){this.storage.characters=t=>{let e=(null==t?void 0:t.node)||this.editor.state.doc;if("textSize"===((null==t?void 0:t.mode)||this.options.mode)){let t=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(t)}return e.nodeSize},this.storage.words=t=>{let e=(null==t?void 0:t.node)||this.editor.state.doc,s=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(s)}},addProseMirrorPlugins(){let t=!1;return[new o.k_({key:new o.hs("characterCount"),appendTransaction:(e,s,n)=>{if(t)return;let o=this.options.limit;if(null==o||0===o){t=!0;return}let i=this.storage.characters({node:n.doc});if(i>o){console.warn(`[CharacterCount] Initial content exceeded limit of ${o} characters. Content was automatically trimmed.`);let e=n.tr.deleteRange(0,i-o);return t=!0,e}t=!0},filterTransaction:(t,e)=>{let s=this.options.limit;if(!t.docChanged||0===s||null==s)return!0;let n=this.storage.characters({node:e.doc}),o=this.storage.characters({node:t.doc});if(o<=s||n>s&&o>s&&o<=n)return!0;if(n>s&&o>s&&o>n||!t.getMeta("paste"))return!1;let i=t.selection.$head.pos;return t.deleteRange(i-(o-s),i),!(this.storage.characters({node:t.doc})>s)}})]}}),u=n.YY.create({name:"dropCursor",addOptions:()=>({color:"currentColor",width:1,class:void 0}),addProseMirrorPlugins(){return[(0,i.A)(this.options)]}});n.YY.create({name:"focus",addOptions:()=>({className:"has-focus",mode:"all"}),addProseMirrorPlugins(){return[new o.k_({key:new o.hs("focus"),props:{decorations:({doc:t,selection:e})=>{let{isEditable:s,isFocused:n}=this.editor,{anchor:o}=e,i=[];if(!s||!n)return r.zF.create(t,[]);let a=0;"deepest"===this.options.mode&&t.descendants((t,e)=>{if(!t.isText){if(!(o>=e&&o<=e+t.nodeSize-1))return!1;a+=1}});let l=0;return t.descendants((t,e)=>!t.isText&&!!(o>=e&&o<=e+t.nodeSize-1)&&((l+=1,"deepest"===this.options.mode&&a-l>0||"shallowest"===this.options.mode&&l>1)?"deepest"===this.options.mode:void i.push(r.NZ.node(e,e+t.nodeSize,{class:this.options.className})))),r.zF.create(t,i)}}})]}});var p=n.YY.create({name:"gapCursor",addProseMirrorPlugins:()=>[(0,a.z)()],extendNodeSchema(t){var e;let s={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:null!=(e=(0,n.gk)((0,n.iI)(t,"allowGapCursor",s)))?e:null}}}),h=n.YY.create({name:"placeholder",addOptions:()=>({emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something …",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}),addProseMirrorPlugins(){return[new o.k_({key:new o.hs("placeholder"),props:{decorations:({doc:t,selection:e})=>{let s=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:o}=e,i=[];if(!s)return null;let a=this.editor.isEmpty;return t.descendants((t,e)=>{let s=o>=e&&o<=e+t.nodeSize,l=!t.isLeaf&&(0,n.Op)(t);if((s||!this.options.showOnlyCurrent)&&l){let n=[this.options.emptyNodeClass];a&&n.push(this.options.emptyEditorClass);let o=r.NZ.node(e,e+t.nodeSize,{class:n.join(" "),"data-placeholder":"function"==typeof this.options.placeholder?this.options.placeholder({editor:this.editor,node:t,pos:e,hasAnchor:s}):this.options.placeholder});i.push(o)}return this.options.includeChildren}),r.zF.create(t,i)}}})]}});function c({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||(null==e?void 0:e.type)===t}n.YY.create({name:"selection",addOptions:()=>({className:"selection"}),addProseMirrorPlugins(){let{editor:t,options:e}=this;return[new o.k_({key:new o.hs("selection"),props:{decorations:s=>s.selection.empty||t.isFocused||!t.isEditable||(0,n.BQ)(s.selection)||t.view.dragging?null:r.zF.create(s.doc,[r.NZ.inline(s.selection.from,s.selection.to,{class:e.className})])}})]}});var m=n.YY.create({name:"trailingNode",addOptions:()=>({node:"paragraph",notAfter:[]}),addProseMirrorPlugins(){let t=new o.hs(this.name),e=Object.entries(this.editor.schema.nodes).map(([,t])=>t).filter(t=>(this.options.notAfter||[]).concat(this.options.node).includes(t.name));return[new o.k_({key:t,appendTransaction:(e,s,n)=>{let{doc:o,tr:i,schema:r}=n,a=t.getState(n),l=o.content.size,d=r.nodes[this.options.node];if(a)return i.insert(l,d.create())},state:{init:(t,s)=>!c({node:s.tr.doc.lastChild,types:e}),apply:(t,s)=>t.docChanged?!c({node:t.doc.lastChild,types:e}):s}})]}}),g=n.YY.create({name:"undoRedo",addOptions:()=>({depth:100,newGroupDelay:500}),addCommands:()=>({undo:()=>({state:t,dispatch:e})=>(0,l.tN)(t,e),redo:()=>({state:t,dispatch:e})=>(0,l.ZS)(t,e)}),addProseMirrorPlugins(){return[(0,l.b6)(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}})},9409:(t,e,s)=>{s.d(e,{A:()=>i,z:()=>o});var n=s(4793),o=n.CU.create({name:"underline",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>!!t.includes("underline")&&{}}],renderHTML({HTMLAttributes:t}){return["u",(0,n.KV)(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),i=o}}]);