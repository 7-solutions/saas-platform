(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[76],{267:(e,t,s)=>{"use strict";s.d(t,{J:()=>d});var i=s(9694),a=s(3070),l=s(9892),r=s(6941),n=s(4352);let c=(0,r.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,i.jsx)(l.b,{ref:t,className:(0,n.cn)(c(),s),...a})});d.displayName=l.b.displayName},1195:(e,t,s)=>{"use strict";s.d(t,{Q:()=>u});var i=s(9694),a=s(3070),l=s(353),r=s(1989),n=s(2885),c=s(9706),d=s(5373),o=s(3159);function u(e){let{onUpload:t,onClose:s,isOpen:u}=e,[m,g]=(0,a.useState)(null),[x,h]=(0,a.useState)(""),[p,f]=(0,a.useState)(!1),[v,b]=(0,a.useState)(null),[j,y]=(0,a.useState)(null),N=(0,a.useCallback)(e=>{let t=e[0];if(t)try{o.J4.parse({file:t,alt_text:x}),g(t),b(null);let e=new FileReader;e.onload=e=>{var t;y(null==(t=e.target)?void 0:t.result)},e.readAsDataURL(t)}catch(e){var s,i;b((null==(i=e.errors)||null==(s=i[0])?void 0:s.message)||"Invalid file")}},[x]),{getRootProps:w,getInputProps:A,isDragActive:S}=(0,l.VB)({onDrop:N,accept:{"image/*":[".jpeg",".jpg",".png",".gif",".webp"]},maxFiles:1,maxSize:0xa00000}),k=async()=>{if(m)try{f(!0),b(null),await t(m,x),g(null),h(""),y(null),s()}catch(e){b(e.message||"Upload failed")}finally{f(!1)}};return u?(0,i.jsx)("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50 flex items-center justify-center p-4",children:(0,i.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[(0,i.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Upload Image"}),(0,i.jsx)(r.$,{type:"button",variant:"outline",size:"sm",onClick:s,children:(0,i.jsx)(n.A,{className:"h-4 w-4"})})]}),(0,i.jsxs)("div",{className:"p-4 space-y-4",children:[m?(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"relative",children:[j&&(0,i.jsx)("img",{src:j,alt:"Preview",className:"w-full h-48 object-cover rounded-lg"}),(0,i.jsx)(r.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{g(null),y(null),b(null)},className:"absolute top-2 right-2",children:(0,i.jsx)(n.A,{className:"h-4 w-4"})})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-1",children:m.name}),(0,i.jsxs)("p",{className:"text-xs text-gray-500",children:[(m.size/1024/1024).toFixed(2)," MB"]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"altText",className:"block text-sm font-medium text-gray-700 mb-1",children:"Alt Text (Optional)"}),(0,i.jsx)("input",{id:"altText",type:"text",value:x,onChange:e=>h(e.target.value),placeholder:"Describe the image for accessibility",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",maxLength:200}),(0,i.jsxs)("p",{className:"mt-1 text-xs text-gray-500",children:[x.length,"/200 characters"]})]})]}):(0,i.jsxs)("div",{...w(),className:"border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors ".concat(S?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-gray-400"),children:[(0,i.jsx)("input",{...A()}),(0,i.jsx)(c.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),S?(0,i.jsx)("p",{className:"text-blue-600",children:"Drop the image here..."}):(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-gray-600 mb-2",children:"Drag & drop an image here, or click to select"}),(0,i.jsx)("p",{className:"text-sm text-gray-500",children:"Supports JPEG, PNG, GIF, WebP (max 10MB)"})]})]}),v&&(0,i.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:(0,i.jsx)("p",{className:"text-sm text-red-600",children:v})})]}),(0,i.jsxs)("div",{className:"flex items-center justify-end space-x-3 p-4 border-t border-gray-200",children:[(0,i.jsx)(r.$,{type:"button",variant:"outline",onClick:s,disabled:p,children:"Cancel"}),(0,i.jsx)(r.$,{type:"button",onClick:k,disabled:!m||p,children:p?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.A,{className:"h-4 w-4 mr-2 animate-spin"}),"Uploading..."]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.A,{className:"h-4 w-4 mr-2"}),"Upload"]})})]})]})}):null}},1904:(e,t,s)=>{"use strict";s.d(t,{Aw:()=>d,dL:()=>o,wR:()=>u});class i{async createPage(e){return this.client.post("/api/v1/pages",e)}async getPage(e){return this.client.get("/api/v1/pages/".concat(e.id))}async updatePage(e){let{id:t,...s}=e;return this.client.put("/api/v1/pages/".concat(t),s)}async deletePage(e){return this.client.delete("/api/v1/pages/".concat(e.id))}async listPages(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return e.page_size&&(t.page_size=e.page_size.toString()),e.page_token&&(t.page_token=e.page_token),e.status&&(t.status=e.status),e.search&&(t.search=e.search),this.client.get("/api/v1/pages",t)}async createBlogPost(e){return this.client.post("/api/v1/blog",e)}async getBlogPost(e){return this.client.get("/api/v1/blog/".concat(e.id))}async updateBlogPost(e){let{id:t,...s}=e;return this.client.put("/api/v1/blog/".concat(t),s)}async deleteBlogPost(e){return this.client.delete("/api/v1/blog/".concat(e.id))}async listBlogPosts(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return e.page_size&&(t.page_size=e.page_size.toString()),e.page_token&&(t.page_token=e.page_token),e.status&&(t.status=e.status),e.category&&(t.category=e.category),e.tag&&(t.tag=e.tag),e.author&&(t.author=e.author),this.client.get("/api/v1/blog",t)}async searchBlogPosts(e){let t={query:e.query};return e.page_size&&(t.page_size=e.page_size.toString()),e.page_token&&(t.page_token=e.page_token),e.category&&(t.category=e.category),e.tag&&(t.tag=e.tag),this.client.get("/api/v1/blog/search",t)}async getBlogCategories(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.client.get("/api/v1/blog/categories")}async getBlogTags(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.client.get("/api/v1/blog/tags")}async getRSSFeed(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.client.get("/api/v1/blog/rss")}constructor(e){this.client=e}}class a{async submitContactForm(e){return this.client.post("/api/v1/contact",e)}async listContactSubmissions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return e.page_size&&(t.page_size=e.page_size.toString()),e.page_token&&(t.page_token=e.page_token),e.status&&(t.status=e.status),e.search&&(t.search=e.search),this.client.get("/api/v1/contact/submissions",t)}async getContactSubmission(e){return this.client.get("/api/v1/contact/submissions/".concat(e.id))}async markContactSubmissionAsRead(e){return this.client.put("/api/v1/contact/submissions/".concat(e.id,"/read"),{})}async deleteContactSubmission(e){return this.client.delete("/api/v1/contact/submissions/".concat(e.id))}constructor(e){this.client=e}}class l{async uploadFile(e,t){if(e instanceof File){let s={};return t&&(s.alt_text=t),this.client.uploadFile("/api/v1/media/upload",e,s)}{let t=new File([e.content],e.filename,{type:e.mime_type}),s={};return e.alt_text&&(s.alt_text=e.alt_text),this.client.uploadFile("/api/v1/media/upload",t,s)}}async getFile(e){return this.client.get("/api/v1/media/".concat(e.id))}async deleteFile(e){return this.client.delete("/api/v1/media/".concat(e.id))}async listFiles(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return e.page_size&&(t.page_size=e.page_size.toString()),e.page_token&&(t.page_token=e.page_token),e.mime_type_filter&&(t.mime_type_filter=e.mime_type_filter),e.search&&(t.search=e.search),this.client.get("/api/v1/media",t)}async updateFile(e){let{id:t,...s}=e;return this.client.put("/api/v1/media/".concat(t),s)}constructor(e){this.client=e}}s(7314);let r={auth:{user:["auth","user"]},pages:{all:["pages"],lists:()=>[...r.pages.all,"list"],list:e=>[...r.pages.lists(),e],details:()=>[...r.pages.all,"detail"],detail:e=>[...r.pages.details(),e]},media:{all:["media"],lists:()=>[...r.media.all,"list"],list:e=>[...r.media.lists(),e],details:()=>[...r.media.all,"detail"],detail:e=>[...r.media.details(),e]},contact:{all:["contact"],submissions:()=>[...r.contact.all,"submissions"],submissionsList:e=>[...r.contact.submissions(),e],submissionDetails:()=>[...r.contact.all,"submission"],submissionDetail:e=>[...r.contact.submissionDetails(),e]}},n=null,c=null;function d(e){n=new i(e),new a(e),c=new l(e)}function o(){if(!n)throw Error("Content service not initialized. Call setApiClient() first.");return n}function u(){if(!c)throw Error("Media service not initialized. Call setApiClient() first.");return c}},1989:(e,t,s)=>{"use strict";s.d(t,{$:()=>i.$});var i=s(2879)},2879:(e,t,s)=>{"use strict";s.d(t,{$:()=>d});var i=s(9694),a=s(3070),l=s(2955),r=s(6941),n=s(4352);let c=(0,r.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-indigo-600 text-white hover:bg-indigo-700",destructive:"bg-red-600 text-white hover:bg-red-700",outline:"border border-gray-300 bg-white hover:bg-gray-50 text-gray-700",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200",ghost:"hover:bg-gray-100 text-gray-700",link:"text-indigo-600 underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:s,variant:a,size:r,asChild:d=!1,...o}=e,u=d?l.DX:"button";return(0,i.jsx)(u,{className:(0,n.cn)(c({variant:a,size:r,className:s})),ref:t,...o})});d.displayName="Button"},3159:(e,t,s)=>{"use strict";s.d(t,{J4:()=>l,vA:()=>a});var i=s(735);let a=i.Ik({title:i.Yj().min(1,"Title is required").max(200,"Title must be less than 200 characters"),slug:i.Yj().min(1,"Slug is required").max(100,"Slug must be less than 100 characters").regex(/^[a-z0-9-]+$/,"Slug can only contain lowercase letters, numbers, and hyphens").refine(e=>!e.startsWith("-")&&!e.endsWith("-"),"Slug cannot start or end with a hyphen"),content:i.Yj().min(1,"Content is required"),meta:i.Ik({title:i.Yj().min(1,"Meta title is required").max(60,"Meta title should be less than 60 characters for SEO"),description:i.Yj().min(1,"Meta description is required").max(160,"Meta description should be less than 160 characters for SEO"),keywords:i.YO(i.Yj()).default([])}),status:i.k5(["draft","published"]).default("draft")}),l=i.Ik({file:i.Nl(File).refine(e=>e.size<=0xa00000,"File size must be less than 10MB").refine(e=>["image/jpeg","image/png","image/gif","image/webp"].includes(e.type),"Only JPEG, PNG, GIF, and WebP images are allowed"),alt_text:i.Yj().max(200,"Alt text must be less than 200 characters").optional()});i.Ik({id:i.Yj().optional(),title:i.Yj(),slug:i.Yj(),content:i.Yj(),meta:i.Ik({title:i.Yj(),description:i.Yj(),keywords:i.YO(i.Yj()).optional().default([])}),status:i.k5(["draft","published"]),lastSaved:i.p6()})},4352:(e,t,s)=>{"use strict";s.d(t,{cn:()=>l});var i=s(6613),a=s(1733);function l(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.QP)((0,i.$)(t))}},4769:(e,t,s)=>{"use strict";s.d(t,{p:()=>r});var i=s(9694),a=s(3070),l=s(4352);let r=a.forwardRef((e,t)=>{let{className:s,type:a,...r}=e;return(0,i.jsx)("input",{type:a,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...r})});r.displayName="Input"},6382:(e,t,s)=>{"use strict";s.d(t,{_g:()=>i._g,dL:()=>a.dL,wR:()=>a.wR});var i=s(7314),a=s(1904)},6629:(e,t,s)=>{"use strict";s.d(t,{Zp:()=>r});var i=s(9694),a=s(3070),l=s(4352);let r=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,i.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a})});r.displayName="Card",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,i.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",s),...a})}).displayName="CardHeader",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,i.jsx)("h3",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",s),...a})}).displayName="CardTitle",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,i.jsx)("p",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",s),...a})}).displayName="CardDescription",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,i.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",s),...a})}).displayName="CardContent",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,i.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",s),...a})}).displayName="CardFooter"},7314:(e,t,s)=>{"use strict";var i,a,l;s.d(t,{_g:()=>a}),function(e){e.UNSPECIFIED="USER_ROLE_UNSPECIFIED",e.ADMIN="USER_ROLE_ADMIN",e.EDITOR="USER_ROLE_EDITOR"}(i||(i={})),function(e){e.UNSPECIFIED="PAGE_STATUS_UNSPECIFIED",e.DRAFT="PAGE_STATUS_DRAFT",e.PUBLISHED="PAGE_STATUS_PUBLISHED",e.ARCHIVED="PAGE_STATUS_ARCHIVED"}(a||(a={})),function(e){e.UNSPECIFIED="CONTACT_STATUS_UNSPECIFIED",e.NEW="CONTACT_STATUS_NEW",e.READ="CONTACT_STATUS_READ",e.REPLIED="CONTACT_STATUS_REPLIED",e.SPAM="CONTACT_STATUS_SPAM"}(l||(l={}))},9044:()=>{},9094:()=>{},9399:(e,t,s)=>{"use strict";s.d(t,{u:()=>o});var i=s(9694),a=s(3070),l=s(1989),r=s(1747),n=s(4469),c=s(9424),d=s(2885);function o(e){let{data:t,onClose:s,isOpen:o}=e,[u,m]=(0,a.useState)("desktop");return o?(0,i.jsx)("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50 flex items-center justify-center p-4",children:(0,i.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full h-full max-w-7xl max-h-full flex flex-col",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,i.jsxs)("h2",{className:"text-lg font-semibold text-gray-900",children:["Preview: ",t.title]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)(l.$,{type:"button",variant:"desktop"===u?"default":"outline",size:"sm",onClick:()=>m("desktop"),children:(0,i.jsx)(r.A,{className:"h-4 w-4"})}),(0,i.jsx)(l.$,{type:"button",variant:"tablet"===u?"default":"outline",size:"sm",onClick:()=>m("tablet"),children:(0,i.jsx)(n.A,{className:"h-4 w-4"})}),(0,i.jsx)(l.$,{type:"button",variant:"mobile"===u?"default":"outline",size:"sm",onClick:()=>m("mobile"),children:(0,i.jsx)(c.A,{className:"h-4 w-4"})})]})]}),(0,i.jsx)(l.$,{type:"button",variant:"outline",size:"sm",onClick:s,children:(0,i.jsx)(d.A,{className:"h-4 w-4"})})]}),(0,i.jsx)("div",{className:"flex-1 overflow-auto bg-gray-100 p-4",children:(0,i.jsxs)("div",{className:"mx-auto bg-white shadow-lg rounded-lg overflow-hidden ".concat((()=>{switch(u){case"mobile":return"max-w-sm";case"tablet":return"max-w-2xl";default:return"max-w-full"}})()," ").concat((()=>{switch(u){case"mobile":return"h-[667px]";case"tablet":return"h-[1024px]";default:return"h-full"}})()),children:[(0,i.jsxs)("div",{className:"bg-gray-200 px-4 py-2 flex items-center space-x-2",children:[(0,i.jsxs)("div",{className:"flex space-x-1",children:[(0,i.jsx)("div",{className:"w-3 h-3 bg-red-400 rounded-full"}),(0,i.jsx)("div",{className:"w-3 h-3 bg-yellow-400 rounded-full"}),(0,i.jsx)("div",{className:"w-3 h-3 bg-green-400 rounded-full"})]}),(0,i.jsxs)("div",{className:"flex-1 bg-white rounded px-3 py-1 text-sm text-gray-600",children:["https://yoursite.com/",t.slug]})]}),(0,i.jsxs)("div",{className:"p-6 overflow-auto",children:[(0,i.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:t.title}),(0,i.jsx)("div",{className:"prose prose-lg max-w-none",dangerouslySetInnerHTML:{__html:t.content}}),(0,i.jsxs)("div",{className:"mt-12 pt-6 border-t border-gray-200",children:[(0,i.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"SEO Preview"}),(0,i.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,i.jsx)("div",{className:"text-blue-600 text-lg hover:underline cursor-pointer",children:t.meta.title}),(0,i.jsxs)("div",{className:"text-green-700 text-sm mt-1",children:["https://yoursite.com/",t.slug]}),(0,i.jsx)("div",{className:"text-gray-600 text-sm mt-2",children:t.meta.description})]})]})]})]})}),(0,i.jsx)("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:(0,i.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[(0,i.jsxs)("div",{children:["Status: ",(0,i.jsx)("span",{className:"font-medium ".concat("published"===t.status?"text-green-600":"text-yellow-600"),children:"published"===t.status?"Published":"Draft"})]}),(0,i.jsxs)("div",{children:["Viewing in ",u," mode"]})]})})]})}):null}},9751:(e,t,s)=>{"use strict";s.d(t,{r:()=>Z});var i=s(9694),a=s(5212),l=s(3012),r=s(3159),n=s(2958),c=s(827),d=s(7785),o=s(254),u=s(6023),m=s(2107),g=s(6739),x=s(9409),h=s(4975),p=s(2073),f=s(195),v=s(1989),b=s(2224),j=s(2069),y=s(933),N=s(7316),w=s(3293),A=s(6069),S=s(6670),k=s(5543),C=s(4925),_=s(481),E=s(5637),T=s(6666),P=s(8754),I=s(6215),F=s(8641),D=s(993),R=s(9178),z=s(679),L=s(5897),U=s(3070);function O(e){let{content:t="",onChange:s,placeholder:a="Start writing...",className:l="",onImageUpload:r}=e,[O,B]=(0,U.useState)(!1),[M,$]=(0,U.useState)(""),H=(0,n.hG)({extensions:[c.A,d.Ay.configure({HTMLAttributes:{class:"max-w-full h-auto rounded-lg"}}),o.Ay.configure({openOnClick:!1,HTMLAttributes:{class:"text-blue-600 hover:text-blue-800 underline"}}),u.A.configure({placeholder:a}),m.A,g.A.configure({types:["heading","paragraph"]}),x.A,h.A,p.Ay.configure({multicolor:!0}),f.xJ],content:t,onUpdate:e=>{let{editor:t}=e;null==s||s(t.getHTML())},editorProps:{attributes:{class:"prose prose-sm sm:prose lg:prose-lg xl:prose-2xl mx-auto focus:outline-none min-h-[200px] p-4"}}}),J=(0,U.useCallback)(async()=>{let e=document.createElement("input");e.type="file",e.accept="image/*",e.onchange=async e=>{var t;let s=null==(t=e.target.files)?void 0:t[0];if(s&&r)try{let e=await r(s);null==H||H.chain().focus().setImage({src:e}).run()}catch(e){console.error("Failed to upload image:",e)}},e.click()},[H,r]),Y=(0,U.useCallback)(()=>{let e=window.prompt("Enter URL:");e&&(null==H||H.chain().focus().setLink({href:e}).run())},[H]);if((0,U.useCallback)(()=>{null==H||H.chain().focus().unsetLink().run()},[H]),!H)return null;let G=e=>{let{onClick:t,isActive:s=!1,disabled:a=!1,children:l,title:r}=e;return(0,i.jsx)(v.$,{type:"button",variant:s?"default":"outline",size:"sm",onClick:t,disabled:a,title:r,className:"h-8 w-8 p-0",children:l})};return(0,i.jsxs)("div",{className:"border border-gray-300 rounded-lg overflow-hidden ".concat(l),children:[(0,i.jsx)("div",{className:"border-b border-gray-200 p-2 bg-gray-50",children:(0,i.jsxs)("div",{className:"flex flex-wrap gap-1",children:[(0,i.jsxs)("div",{className:"flex gap-1 border-r border-gray-300 pr-2 mr-2",children:[(0,i.jsx)(G,{onClick:()=>H.chain().focus().toggleBold().run(),isActive:H.isActive("bold"),title:"Bold",children:(0,i.jsx)(b.A,{className:"h-4 w-4"})}),(0,i.jsx)(G,{onClick:()=>H.chain().focus().toggleItalic().run(),isActive:H.isActive("italic"),title:"Italic",children:(0,i.jsx)(j.A,{className:"h-4 w-4"})}),(0,i.jsx)(G,{onClick:()=>H.chain().focus().toggleUnderline().run(),isActive:H.isActive("underline"),title:"Underline",children:(0,i.jsx)(y.A,{className:"h-4 w-4"})}),(0,i.jsx)(G,{onClick:()=>H.chain().focus().toggleStrike().run(),isActive:H.isActive("strike"),title:"Strikethrough",children:(0,i.jsx)(N.A,{className:"h-4 w-4"})}),(0,i.jsx)(G,{onClick:()=>H.chain().focus().toggleCode().run(),isActive:H.isActive("code"),title:"Code",children:(0,i.jsx)(w.A,{className:"h-4 w-4"})})]}),(0,i.jsxs)("div",{className:"flex gap-1 border-r border-gray-300 pr-2 mr-2",children:[(0,i.jsx)(G,{onClick:()=>H.chain().focus().toggleHeading({level:1}).run(),isActive:H.isActive("heading",{level:1}),title:"Heading 1",children:(0,i.jsx)(A.A,{className:"h-4 w-4"})}),(0,i.jsx)(G,{onClick:()=>H.chain().focus().toggleHeading({level:2}).run(),isActive:H.isActive("heading",{level:2}),title:"Heading 2",children:(0,i.jsx)(S.A,{className:"h-4 w-4"})}),(0,i.jsx)(G,{onClick:()=>H.chain().focus().toggleHeading({level:3}).run(),isActive:H.isActive("heading",{level:3}),title:"Heading 3",children:(0,i.jsx)(k.A,{className:"h-4 w-4"})})]}),(0,i.jsxs)("div",{className:"flex gap-1 border-r border-gray-300 pr-2 mr-2",children:[(0,i.jsx)(G,{onClick:()=>H.chain().focus().toggleBulletList().run(),isActive:H.isActive("bulletList"),title:"Bullet List",children:(0,i.jsx)(C.A,{className:"h-4 w-4"})}),(0,i.jsx)(G,{onClick:()=>H.chain().focus().toggleOrderedList().run(),isActive:H.isActive("orderedList"),title:"Ordered List",children:(0,i.jsx)(_.A,{className:"h-4 w-4"})}),(0,i.jsx)(G,{onClick:()=>H.chain().focus().toggleBlockquote().run(),isActive:H.isActive("blockquote"),title:"Quote",children:(0,i.jsx)(E.A,{className:"h-4 w-4"})})]}),(0,i.jsxs)("div",{className:"flex gap-1 border-r border-gray-300 pr-2 mr-2",children:[(0,i.jsx)(G,{onClick:()=>H.chain().focus().setTextAlign("left").run(),isActive:H.isActive({textAlign:"left"}),title:"Align Left",children:(0,i.jsx)(T.A,{className:"h-4 w-4"})}),(0,i.jsx)(G,{onClick:()=>H.chain().focus().setTextAlign("center").run(),isActive:H.isActive({textAlign:"center"}),title:"Align Center",children:(0,i.jsx)(P.A,{className:"h-4 w-4"})}),(0,i.jsx)(G,{onClick:()=>H.chain().focus().setTextAlign("right").run(),isActive:H.isActive({textAlign:"right"}),title:"Align Right",children:(0,i.jsx)(I.A,{className:"h-4 w-4"})}),(0,i.jsx)(G,{onClick:()=>H.chain().focus().setTextAlign("justify").run(),isActive:H.isActive({textAlign:"justify"}),title:"Justify",children:(0,i.jsx)(F.A,{className:"h-4 w-4"})})]}),(0,i.jsxs)("div",{className:"flex gap-1 border-r border-gray-300 pr-2 mr-2",children:[(0,i.jsx)(G,{onClick:Y,isActive:H.isActive("link"),title:"Add Link",children:(0,i.jsx)(D.A,{className:"h-4 w-4"})}),r&&(0,i.jsx)(G,{onClick:J,title:"Add Image",children:(0,i.jsx)(R.A,{className:"h-4 w-4"})})]}),(0,i.jsxs)("div",{className:"flex gap-1",children:[(0,i.jsx)(G,{onClick:()=>H.chain().focus().undo().run(),disabled:!H.can().undo(),title:"Undo",children:(0,i.jsx)(z.A,{className:"h-4 w-4"})}),(0,i.jsx)(G,{onClick:()=>H.chain().focus().redo().run(),disabled:!H.can().redo(),title:"Redo",children:(0,i.jsx)(L.A,{className:"h-4 w-4"})})]})]})}),(0,i.jsx)("div",{className:"min-h-[200px] max-h-[600px] overflow-y-auto",children:(0,i.jsx)(n.$Z,{editor:H})}),(0,i.jsxs)("div",{className:"border-t border-gray-200 px-4 py-2 bg-gray-50 text-sm text-gray-500",children:[H.storage.characterCount.characters()," characters, ",H.storage.characterCount.words()," words"]})]})}var B=s(2879),M=s(6629),$=s(4769),H=s(267),J=s(2240),Y=s(8540),G=s(6930),q=s(7126),V=s(3218),W=s(7314);function Z(e){var t,s,n,c,d,o,u,m;let{page:g,onSave:x,onPreview:h,onImageUpload:p,isLoading:f=!1,className:v=""}=e,[b,j]=(0,U.useState)("idle"),[y,N]=(0,U.useState)(null),{register:w,control:A,handleSubmit:S,watch:k,setValue:C,formState:{errors:_,isDirty:E,isValid:T}}=(0,a.mN)({resolver:(0,l.u)(r.vA),defaultValues:{title:(null==g?void 0:g.title)||"",slug:(null==g?void 0:g.slug)||"",content:(null==g?void 0:g.content)?JSON.stringify(g.content):"",meta:{title:(null==g||null==(t=g.meta)?void 0:t.title)||"",description:(null==g||null==(s=g.meta)?void 0:s.description)||"",keywords:[]},status:(null==g?void 0:g.status)===W._g.PUBLISHED?"published":"draft"}}),P=k(),I=(0,U.useCallback)(e=>e.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim(),[]);(0,U.useEffect)(()=>{!g&&P.title&&C("slug",I(P.title),{shouldValidate:!0})},[P.title,g,I,C]),(0,U.useEffect)(()=>{P.title&&!P.meta.title&&C("meta.title",P.title,{shouldValidate:!0})},[P.title,P.meta.title,C]),(0,U.useEffect)(()=>{if(!E||!T)return;let e=setTimeout(async()=>{try{j("saving");let e={...P,id:null==g?void 0:g.id,lastSaved:new Date};localStorage.setItem("page-draft-".concat((null==g?void 0:g.id)||"new"),JSON.stringify(e)),j("saved"),N(new Date),setTimeout(()=>{j("idle")},3e3)}catch(e){console.error("Auto-save failed:",e),j("error"),setTimeout(()=>{j("idle")},3e3)}},2e3);return()=>clearTimeout(e)},[P,E,T,null==g?void 0:g.id]),(0,U.useEffect)(()=>{if(!g){let e="page-draft-new",t=localStorage.getItem(e);if(t)try{let s=JSON.parse(t);confirm("A draft was found. Would you like to restore it?")?(C("title",s.title),C("slug",s.slug),C("content",s.content),C("meta.title",s.meta.title),C("meta.description",s.meta.description),C("status",s.status),N(new Date(s.lastSaved))):localStorage.removeItem(e)}catch(t){console.error("Failed to restore draft:",t),localStorage.removeItem(e)}}},[g,C]);let F=async e=>{try{await x(e),localStorage.removeItem("page-draft-".concat((null==g?void 0:g.id)||"new")),N(new Date)}catch(e){console.error("Failed to save page:",e)}};return(0,i.jsxs)("form",{onSubmit:S(F),className:"space-y-6 ".concat(v),children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:g?"Edit Page":"Create New Page"}),(0,i.jsx)(()=>{switch(b){case"saving":return(0,i.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,i.jsx)(J.A,{className:"h-4 w-4 mr-1 animate-spin"}),"Saving..."]});case"saved":return(0,i.jsxs)("div",{className:"flex items-center text-sm text-green-600",children:[(0,i.jsx)(Y.A,{className:"h-4 w-4 mr-1"}),"Saved"]});case"error":return(0,i.jsxs)("div",{className:"flex items-center text-sm text-red-600",children:[(0,i.jsx)(G.A,{className:"h-4 w-4 mr-1"}),"Save failed"]});default:return y?(0,i.jsxs)("div",{className:"text-sm text-gray-500",children:["Last saved: ",y.toLocaleTimeString()]}):null}},{})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,i.jsxs)(B.$,{type:"button",variant:"outline",onClick:()=>{h(P)},disabled:!T,children:[(0,i.jsx)(q.A,{className:"h-4 w-4 mr-2"}),"Preview"]}),(0,i.jsxs)(B.$,{type:"submit",disabled:f||!E||!T,children:[(0,i.jsx)(V.A,{className:"h-4 w-4 mr-2"}),f?"Saving...":"Save Page"]})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,i.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(H.J,{htmlFor:"title",children:"Title"}),(0,i.jsx)($.p,{id:"title",...w("title"),placeholder:"Enter page title",className:"mt-1"}),_.title&&(0,i.jsx)("p",{className:"mt-1 text-sm text-red-600",children:_.title.message})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(H.J,{htmlFor:"slug",children:"URL Slug"}),(0,i.jsxs)("div",{className:"mt-1 flex rounded-md shadow-sm",children:[(0,i.jsx)("span",{className:"inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 text-sm",children:"/"}),(0,i.jsx)($.p,{id:"slug",...w("slug"),placeholder:"page-url-slug",className:"rounded-l-none"})]}),_.slug&&(0,i.jsx)("p",{className:"mt-1 text-sm text-red-600",children:_.slug.message})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(H.J,{children:"Content"}),(0,i.jsx)("div",{className:"mt-1",children:(0,i.jsx)(a.xI,{name:"content",control:A,render:e=>{let{field:t}=e;return(0,i.jsx)(O,{content:t.value,onChange:t.onChange,onImageUpload:p,placeholder:"Start writing your page content..."})}})}),_.content&&(0,i.jsx)("p",{className:"mt-1 text-sm text-red-600",children:_.content.message})]})]}),(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)(M.Zp,{className:"p-4",children:[(0,i.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Page Settings"}),(0,i.jsx)("div",{className:"space-y-4",children:(0,i.jsxs)("div",{children:[(0,i.jsx)(H.J,{htmlFor:"status",children:"Status"}),(0,i.jsxs)("select",{id:"status",...w("status"),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",children:[(0,i.jsx)("option",{value:"draft",children:"Draft"}),(0,i.jsx)("option",{value:"published",children:"Published"})]})]})})]}),(0,i.jsxs)(M.Zp,{className:"p-4",children:[(0,i.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"SEO Settings"}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(H.J,{htmlFor:"meta.title",children:"Meta Title"}),(0,i.jsx)($.p,{id:"meta.title",...w("meta.title"),placeholder:"SEO title for search engines",className:"mt-1"}),(0,i.jsxs)("p",{className:"mt-1 text-xs text-gray-500",children:[(null==(c=P.meta)||null==(n=c.title)?void 0:n.length)||0,"/60 characters"]}),(null==(d=_.meta)?void 0:d.title)&&(0,i.jsx)("p",{className:"mt-1 text-sm text-red-600",children:_.meta.title.message})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(H.J,{htmlFor:"meta.description",children:"Meta Description"}),(0,i.jsx)("textarea",{id:"meta.description",...w("meta.description"),placeholder:"Brief description for search engines",rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"}),(0,i.jsxs)("p",{className:"mt-1 text-xs text-gray-500",children:[(null==(u=P.meta)||null==(o=u.description)?void 0:o.length)||0,"/160 characters"]}),(null==(m=_.meta)?void 0:m.description)&&(0,i.jsx)("p",{className:"mt-1 text-sm text-red-600",children:_.meta.description.message})]})]})]})]})]})]})}}}]);